<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Formulario CRUD</title>
    <style>
        .comida { margin-bottom: 20px; border: 1px solid #ccc; padding: 10px; }
        .barra { display: flex; justify-content: space-between; font-weight: bold; }
        .opciones { list-style: none; padding-left: 20px; }
        .opcion { margin-bottom: 5px; }
    </style>
</head>
<body>
    <h1>Gestión de Comidas</h1>
    <form id="form">
        <label for="nombre">Nombre:</label>
        <input type="text" id="nombre" required><br>
        <label for="precio">Precio:</label>
        <input type="text" id="precio" required><br>
        <label for="opciones">Opciones (separadas por coma):</label>
        <input type="text" id="opciones" required><br>
        <button type="submit">Guardar</button>
    </form>

    <h2>Menú</h2>
    <div id="menu"></div>

    <script>
        // JSON inicial
let comidas = [
    {
        nombre: "Empanada",
        precio: "$5000",
        opciones: ["Carne", "Pollo", "Verdura"]
    },
    {
        nombre: "Pizza",
        precio: "$15000",
        opciones: ["Margarita", "Pepperoni", "Cuatro Quesos"]
    }
];

// Función para renderizar las comidas
function renderComidas() {
    const container = document.getElementById('menu');
    container.innerHTML = ''; // Limpiar contenido existente

    comidas.forEach((comida, index) => {
        const comidaDiv = document.createElement('div');
        comidaDiv.classList.add('comida');

        const barraDiv = document.createElement('div');
        barraDiv.classList.add('barra');

        const nombreDiv = document.createElement('div');
        nombreDiv.classList.add('nombre');
        nombreDiv.textContent = comida.nombre;

        const precioDiv = document.createElement('div');
        precioDiv.classList.add('precio');
        precioDiv.textContent = comida.precio;

        const botonesDiv = document.createElement('div');

        // Botón Editar
        const editBtn = document.createElement('button');
        editBtn.textContent = 'Editar';
        editBtn.onclick = () => editComida(index);

        // Botón Eliminar
        const deleteBtn = document.createElement('button');
        deleteBtn.textContent = 'Eliminar';
        deleteBtn.onclick = () => deleteComida(index);

        botonesDiv.appendChild(editBtn);
        botonesDiv.appendChild(deleteBtn);

        barraDiv.appendChild(nombreDiv);
        barraDiv.appendChild(precioDiv);
        barraDiv.appendChild(botonesDiv);

        const opcionesDiv = document.createElement('div');
        opcionesDiv.classList.add('opciones');
        comida.opciones.forEach(opcion => {
            const opcionLi = document.createElement('li');
            opcionLi.classList.add('opcion');
            opcionLi.textContent = opcion;
            opcionesDiv.appendChild(opcionLi);
        });

        comidaDiv.appendChild(barraDiv);
        comidaDiv.appendChild(opcionesDiv);
        container.appendChild(comidaDiv);
    });
}

// Función para agregar una nueva comida
function addComida(event) {
    event.preventDefault();

    const nombre = document.getElementById('nombre').value;
    const precio = document.getElementById('precio').value;
    const opciones = document.getElementById('opciones').value.split(',');

    comidas.push({ nombre, precio, opciones });
    renderComidas();

    document.getElementById('form').reset();
}

// Función para editar una comida
function editComida(index) {
    const comida = comidas[index];
    document.getElementById('nombre').value = comida.nombre;
    document.getElementById('precio').value = comida.precio;
    document.getElementById('opciones').value = comida.opciones.join(',');

    comidas.splice(index, 1); // Eliminar el elemento actual mientras se edita
}

// Función para eliminar una comida
function deleteComida(index) {
    comidas.splice(index, 1);
    renderComidas();
}

// Event listener para el formulario
document.getElementById('form').addEventListener('submit', addComida);

// Render inicial del menú
document.addEventListener('DOMContentLoaded', renderComidas);

    </script>
</body>
</html>
